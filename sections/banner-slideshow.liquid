{{ 'section-image-banner.css' | asset_url | stylesheet_tag }}
{{ 'component-banner-slide.css' | asset_url | stylesheet_tag }}
{{ 'component-slider.css' | asset_url | stylesheet_tag }}
{{ 'component-slideshow.css' | asset_url | stylesheet_tag }}



  <slideshow-component>

    <div class="slideshow-controls-container slider-buttons{% if section.settings.show_text_below %} slideshow__controls--border-radius-mobile{% endif %}">
      <button
        type="button"
        class="slider-button-light slider-button--prev"
        name="previous"
        aria-label="{{ 'sections.slideshow.previous_slideshow' | t }}"
        aria-controls="Slider-{{ section.id }}"
      >
        {% render 'icon-caret' %}
      </button>
      <div class="slider-counter slider-counter--dots">

        <div class="force-white-dots slideshow__control-wrapper">
          {%- for block in section.blocks -%}
            <button
              class=" slider-counter__link slider-counter__link--dots link"
              aria-label="{{ 'sections.slideshow.load_slide' | t }} {{ forloop.index }} {{ 'general.slider.of' | t }} {{ forloop.length }}"
              aria-controls="Slider-{{ section.id }}"
            >              
                <span class="dot"></span>
            </button>
          {%- endfor -%}
        </div>
      </div>
      <button
        type="button"
        class="slider-button-light slider-button--next"
        name="next"
        aria-label="{{ 'sections.slideshow.next_slideshow' | t }}"
        aria-controls="Slider-{{ section.id }}"
      >
        {% render 'icon-caret' %}
      </button>

      {%- if section.settings.auto_rotate -%}
        <button
          type="button"
          class="slideshow__autoplay slider-button{% if section.settings.auto_rotate == false %} slideshow__autoplay--paused{% endif %}"
          aria-label="{{ 'sections.slideshow.pause_slideshow' | t }}"
        >
          {%- render 'icon-pause' -%}
          {%- render 'icon-play' -%}
        </button>
      {%- endif -%}
    </div>

    <div
      class="slideshow grid grid--1-col grid-no-gap slider slider--everywhere"
      id="Slider-{{ section.id }}"
      aria-live="polite"
      aria-atomic="true"
      data-autoplay="{{ section.settings.auto_rotate }}"
      data-speed="{{ section.settings.change_slides_speed }}"
    >
      {%- for block in section.blocks -%}
      
        {%- style -%}
            #Banner-{{ block.id }}::after {
              opacity: {{ block.settings.image_overlay_opacity | divided_by: 100.0 }};
              
            }
        {%- endstyle -%}
        <style>
          #Slide-{{ section.id }}-{{ forloop.index }} .banner__media::after {
            opacity: {{ block.settings.image_overlay_opacity | divided_by: 100.0 }};
          }
        </style>
        <div
          id="Slide-{{ section.id }}-{{ forloop.index }}"
          class="
            banner 
            banner--{{ section.settings.banner_height }}
            slideshow__slide grid__item grid--1-col slider_slide"
          role="group"
          aria-roledescription="{{ 'sections.slideshow.slide' | t }}"
          aria-label="{{ forloop.index }} {{ 'general.slider.of' | t }} {{ forloop.length }}"
          tabindex="-1"
        >
          
          <div class="banner__content banner__content--top-left page-width banner--content-align-left banner--desktop-transparent">
            <div class="banner__box content-container content-container-full-width-mobile color-{{ block.settings.color_scheme }}">
              <h1 class="banner__heading header-text">
                {{ block.settings.header_text }}
              </h1>
              <p class="subtitle-text" {{ block.shopify_attributes }}>
                {{ block.settings.subtitle }}
              </p>
              <div
                class="banner__buttons{% if block.settings.primary_button_label != blank and block.settings.secondary_button_label != blank %} banner__buttons--multiple{% endif %}"
                {{ block.shopify_attributes }}
              >
                {%- if block.settings.primary_button_label != blank -%}
                  <a
                    {% if block.settings.primary_button_link == blank %}
                      role="link" aria-disabled="true"
                    {% else %}
                      href="{{ block.settings.primary_button_link }}"
                    {% endif %}
                    class="button button-primary"
                  >
                    {{- block.settings.primary_button_label | escape -}}
                  </a>
                {%- endif  -%}
                {%- if block.settings.secondary_button_label != blank -%}
                  <a
                    {% if block.settings.secondary_button_link == blank %}
                      role="link" aria-disabled="true"
                    {% else %}
                      href="{{ block.settings.secondary_button_link }}"
                    {% endif %}
                    class="button button--secondary button-with-icon"
                  >
                    {{- block.settings.secondary_button_label | escape -}}
                    {%- render 'icon-down-arrow' -%}
                  </a>
                  
                {%- endif  -%}
            </div>
            </div>
          </div>


          {%- liquid
            assign image_height = block.settings.banner_slide_image.width | divided_by: block.settings.banner_slide_image.aspect_ratio
            assign sizes = '100vw'
            assign image_class = 'banner__media'
            assign widths = '375, 550, 750, 1100, 1500, 1780, 2000, 3000, 3840'
          -%}
          <div class="banner__media media">
            {{
              block.settings.banner_slide_image
              | image_url: width: 3840
              | image_tag:
                width: block.settings.banner_slide_image.width,
                height: image_height,
                class: image_class,
                sizes: sizes,
                widths: widths,
                fetchpriority: 'auto'
            }}
          </div>
          
        </div>
      {%- endfor -%}
    </div>
</slideshow-component>

{%- if request.design_mode -%}
  <script src="{{ 'theme-editor.js' | asset_url }}" defer="defer"></script>
{%- endif -%}

{% schema %}
{
  "name": "Banner Slideshow",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "default": "medium",
      "label": "t:sections.slideshow.settings.slide_height.label",
      "type": "select",
      "id": "banner_height",
      "options": [
        {
          "value": "small",
          "label": "t:sections.slideshow.settings.slide_height.options__2.label"
        },
        {
          "value": "medium",
          "label": "t:sections.slideshow.settings.slide_height.options__3.label"
        },
        {
          "value": "large",
          "label": "t:sections.slideshow.settings.slide_height.options__4.label"
        }
      ]
    }
  ],
  "blocks": [
    {
      "name": "Banner Slide",
      "type": "banner_slide",
      "settings": [
        {
          "type": "image_picker",
          "id": "banner_slide_image",
          "label": "Image"
        },
        {
          "type": "range",
          "id": "image_overlay_opacity",
          "min": 0,
          "max": 100,
          "step": 10,
          "unit": "%",
          "label": "t:sections.image-banner.settings.image_overlay_opacity.label",
          "default": 0
        },
        {
          "type": "text",
          "id": "header_text",
          "label": "Header",
          "placeholder": "Header Goes Here!"
        },
        {
          "type": "text",
          "id": "subtitle",
          "label": "Subtitle",
          "placeholder": "Sub heading to explain a little more stuff..."
        },
        {
          "type": "text",
          "id": "primary_button_label",
          "label": "Primary Button Label",
          "default": "Button text"
        },
        {
          "type": "url",
          "id": "primary_button_link",
          "label": "Primary Button link"
        },
        {
          "type": "text",
          "id": "secondary_button_label",
          "label": "Secondary Button Label",
          "default": "Button text"
        },
        {
          "type": "url",
          "id": "secondary_button_link",
          "label": "Secondary Button link"
        },
        {
          "type": "color_scheme",
          "id": "color_scheme",
          "label": "t:sections.all.colors.label",
          "default": "scheme-5"
        }
        
      ]
      
    }
    
  ],
  "presets": [
    {
      "name": "Banner Slideshow"
    }
  ]


}
{% endschema %}